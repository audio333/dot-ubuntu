#!/bin/sh

file="$HOME/.local/share/saved/words.txt"

if [ -z "$1" ]; then
  word="$(xclip -o)"
else
  word="$1"
fi

search () {
  definition=$(dict "$word")
  [ -z "$definition" ] && exit

  printf "$definition \n\n"
  read -p "Feed definition here: " define
  [ -z "$define" ] && exit

  echo "${word}    -> ${define}" >> $file 
  notify-send "word \"${word}\" has been saved"
}

case "$word" in
  -l) batcat $file ;;
  -e) $EDITOR "$file" ;;
  *) search ;; 
esac
